{"version":3,"sources":["components/row/Row.jsx","components/page-num/PageNum.jsx","components/table/Table.jsx","components/Homepage/Homepage.jsx","App.js","index.js"],"names":["Row","data","date","Date","time","toLocaleString","onClick","window","open","id","className","title","domain","PageNum","number","current","setCurrentPage","createPageNumbers","maxPages","arr","i","push","Table","sortConfig","requestSort","currentPage","sortedData","useMemo","sortedElems","sort","a","b","key","direction","map","elem","initialState","loading","error","reducer","state","action","type","payload","Homepage","useReducer","dispatch","useState","setSortConfig","url","useEffect","axios","get","then","res","catch","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9cbd369e.chunk.js","sourcesContent":["import React from 'react'\r\nimport './row.styles.css'\r\n\r\nfunction Row( {data} ) {\r\n\r\n    const date = new Date(data.time * 1000).toLocaleString();\r\n\r\n    return (\r\n        <tr onClick={() => window.open(`https://news.ycombinator.com/item?id=${data.id}`)}>\r\n            <td className=\"date\">{ date }</td>\r\n            <td className=\"title\">\r\n                <div>\r\n                    { data.title }\r\n                </div>\r\n            </td>\r\n            <td className=\"domain\">{ data.domain }</td>\r\n        </tr>\r\n    )\r\n}\r\n\r\nexport default Row\r\n","import React from 'react'\r\nimport './pageNum.styles.css'\r\n\r\nfunction PageNum({ number, current, setCurrentPage }) {\r\n    return (\r\n        <div>\r\n            <button className={`page-num ${number === current ? `current-page` : ''}`}\r\n                    onClick={ () => setCurrentPage(number) } >\r\n                        { number }\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PageNum\r\n","import React, { useMemo } from 'react'\r\nimport Row from '../row/Row'\r\nimport PageNum from '../page-num/PageNum';\r\nimport './table.styles.css'\r\n\r\nfunction createPageNumbers(maxPages, current, setCurrentPage) {\r\n\r\n    let arr = [];\r\n\r\n    for (let i = 1; i <= maxPages; i++) {\r\n        arr.push(<PageNum number={i} key={i} current={current} setCurrentPage={setCurrentPage} />)\r\n    }\r\n\r\n    return arr;\r\n}\r\n\r\nfunction Table( {data, sortConfig, requestSort, currentPage, setCurrentPage} ) {\r\n\r\n    const newsMaxPages = 10;\r\n    const sortedData = useMemo(() => {\r\n\r\n        let sortedElems = [...data];\r\n        sortedElems.sort((a, b) => {\r\n\r\n            if (a[sortConfig.key] < b[sortConfig.key]) return sortConfig.direction === 'ascending' ? -1 : 1;\r\n            if (a[sortConfig.key] > b[sortConfig.key]) return sortConfig.direction === 'ascending' ? 1 : -1;\r\n            return 0;\r\n            \r\n        })\r\n\r\n        return sortedElems;\r\n\r\n    }, [data, sortConfig])\r\n\r\n    return (\r\n        <>\r\n            <table className=\"customTable\">\r\n                <thead>\r\n                    <tr>\r\n                        <th className=\"header-time\" onClick={ () => requestSort('time') }>\r\n                            <span>Time</span>\r\n                        </th>\r\n                        <th onClick={ () => requestSort('title') }>\r\n                            <span>Title</span>\r\n                        </th>\r\n                        <th onClick={ () => requestSort('domain') }>\r\n                            <span>Domain</span>\r\n                        </th>\r\n                    </tr>\r\n                </thead>\r\n\r\n                <tbody>\r\n                    { sortedData.map(elem => <Row data={ elem } key={ elem.id } />) }\r\n                </tbody>\r\n            </table>\r\n\r\n            <div className=\"page-list\">\r\n                { createPageNumbers(newsMaxPages, currentPage, setCurrentPage) }\r\n            </div>\r\n\r\n            <button className=\"sort-by-time\" onClick={ () => requestSort('time') }>Sort By Time</button>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Table\r\n","import React, {useReducer, useEffect, useState} from 'react'\r\nimport axios from 'axios'\r\nimport './homepage.styles.css'\r\nimport Table from '../table/Table'\r\n\r\nconst initialState = {\r\n    loading: true,\r\n    error: '',\r\n    data: {}\r\n}\r\n\r\nconst reducer = (state, action) => {\r\n\r\n    switch(action.type) {\r\n        case 'FETCH_SUCCESS':\r\n            return {\r\n                loading: false,\r\n                data: action.payload,\r\n                error: '',\r\n            }\r\n        \r\n        case 'FETCH_ERROR': \r\n            return {\r\n                loading: false,\r\n                data: {},\r\n                error: 'Something went wrong',\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nfunction Homepage() {\r\n\r\n    const [state, dispatch] = useReducer(reducer, initialState);\r\n    const [sortConfig, setSortConfig] = useState({ key:'', direction: 'ascending'});\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    \r\n    const url = `https://api.hnpwa.com/v0/news/${currentPage}.json`;\r\n    \r\n    const requestSort = key => {\r\n        let direction = 'ascending';\r\n        if (sortConfig.key === key && sortConfig.direction === 'ascending') {\r\n            direction = 'descending';\r\n        }\r\n        setSortConfig({ key, direction });\r\n    }\r\n\r\n    useEffect(() => {\r\n        axios\r\n            .get(url)\r\n            .then(res => {\r\n                dispatch({ type: 'FETCH_SUCCESS', payload: res.data })\r\n            })\r\n            .catch(error => {\r\n                dispatch({ type: 'FETCH_ERROR' })\r\n            })\r\n        }, [url])\r\n\r\n    return (\r\n        <>\r\n            <header>\r\n                <div className=\"title\">HackerNews</div>\r\n            </header>\r\n\r\n            <div className=\"container-main\">\r\n                { state.loading ? 'Loading' : <Table data={state.data} \r\n                                                    sortConfig={sortConfig}\r\n                                                    setSortConfig={setSortConfig}\r\n                                                    requestSort={requestSort}\r\n                                                    currentPage={currentPage}\r\n                                                    setCurrentPage={setCurrentPage}\r\n                                                    /> }\r\n                { state.error ? state.error : null }\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Homepage\r\n","import Homepage from './components/Homepage/Homepage';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Homepage />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}